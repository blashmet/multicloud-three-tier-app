namespace: ${namespace}
cfngin_bucket: ${cfngin_bucket_name}
sys_path: ./

pre_destroy:

  empty_bucket:
    path: hooks.empty_bucket.empty_source_bucket
    args:
      s3_bucket: ${namespace}-beanstalk-source-bucket
      bundle_path: "dotnet-asp-v1.zip"

stacks:

  beanstalk-source-bucket:
    template_path: ../../../modules/beanstalk/beanstalk_source.cfn/templates/s3_bucket.yml
    variables:
      BucketName: ${namespace}-beanstalk-source-bucket

post_build:

  source_bundle:
    path: hooks.upload_source.upload_source_bundle
    args:
      s3_bucket: ${namespace}-beanstalk-source-bucket
      bundle_path: "dotnet-asp-v1.zip"

      